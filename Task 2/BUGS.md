# Баг репорты
## 1. Сохранение объявление при некорректном sellerID
Body:  
Method: row 
```
{
  "sellerID": 123,
  "name": "123",
  "price": 5902847612039487123,
  "statistics": {
    "likes": 5902847612039487123,
    "viewCount": 5902847612039487123,
    "contacts": 5902847612039487123
  }
}
```
---
**Ожидаемый результат:** 400 Bad request  
```
{
  "result": {
    "messages": {
      "culpa_b92": "<string>",
      "enim_24f": "<string>",
      "mollit_aa": "<string>"
    },
    "message": "<string>"
  },
  "status": "<string>"
}
```
---
## Шаги воспроизведения:
- заполнить поля валидными данными
- заполнить поле sellerID не в соответственности диапозону (111111 - 999999)
---
## Фактический результат:
Response:  
200 OK  
Body:  
```
{
    "status": "Сохранили объявление - 40dda51f-9d58-4020-9442-99929b6f93cd"
}
```
---
## Комментарий
Сервис не выполняет валидацию sellerID. Некорректное значение не блокирует создание объявления.

---
**Приоритет:** High

---
## 2 Сохранение объявления с невалидными данными
Body:  
Method: row 
```
{
  "sellerID": -123963,
  "name": "Test",
  "price": -123,
  "statistics": {
    "likes": -123,
    "viewCount": -123,
    "contacts": -123
  }
}
```
---
**Ожидаемый результат:** 400 Bad request  
```
{
  "result": {
    "messages": {
      "culpa_b92": "<string>",
      "enim_24f": "<string>",
      "mollit_aa": "<string>"
    },
    "message": "<string>"
  },
  "status": "<string>"
}
```
---
## Шаги воспроизведения:
- поставить отрицательные значения всем полям, принимающим значения integer
---
## Фактический результат:
Response:  
200 OK  
Body:  
```
{
    "status": "Сохранили объявление - 4cb19480-1185-49f3-9c84-ac1715848597"
}
```
---
## Комментарий
Поля, принимающие значения integer ни в коем случае не должны принимать отрицательные значения, нарушена логика валидации полей.

---
**Приоритет:** High

---
## 3. Получить объявление по идентификатору - ошибка валидации и экранирования
| Param | Value |
|--------|--------|
| id | fb32а45f-b394-402а-ас54-е1е62bb9987! |

**Ожидаемый результат:** 400 Bad Request  
```
{
  "result": {
    "messages": {
      "culpa_b92": "<string>",
      "enim_24f": "<string>",
      "mollit_aa": "<string>"
    },
    "message": "<string>"
  },
  "status": "<string>"
}
```

## Шаги воспроизведения:
- Ввести в параметрах поля id созданный через метод Post идентификатор объявления
- Заменить омоглифы (буквы, схожие по написанию) на кириллицу и заменить последнюю единицу на специальный символ из вариантов: "!", "*" "(", ")".
---
## Фактический результат:
Response:  
400 Bad Request  
Body:  
```
    "result": {
        "message": "ID айтема не UUID: fb32%D0%B045f-b394-402%D0%B0-%D0%B0%D1%8154-%D0%B51%D0%B562bb9987!",
        "messages": {}
    },
    "status": "400"
}
```
---
## Комментарий
**Response:** Сервис некорректно обрабатывает спецсимвол ! в ID — в сообщении об ошибке строка искажается и отображается в виде закодированных символов. Вероятно, проблема в механизме экранирования.

---
**Приоритет:** High

## 4 Получить все объявления пользователя - проверка с невалидными данными
| Param | Value_1 | Value_2 | Value_3 |
|--------|--------|--------|--------|
| sellerId | 0 | -2 | !@#%$ |

**Ожидаемый результат:** 400 Bad Request  
```
{
  "result": {
    "messages": {
      "culpa_b92": "<string>",
      "enim_24f": "<string>",
      "mollit_aa": "<string>"
    },
    "message": "<string>"
  },
  "status": "<string>"
}
```
---

## Шаги воспроизведения:
- Ввести невалидные данные в параметрах поля sellerID  
---
## Фактический результат:
Response_1:  
200 OK  
Body_2:  
```
[
    {
        "createdAt": "2024-08-15 08:21:13.380971 +0300 +0300",
        "id": "f2242138-84fa-4ba9-90c1-5097048146ac",
        "name": "",
        "price": 0,
        "sellerId": 0,
        "statistics": {
            "contacts": 0,
            "likes": 0,
            "viewCount": 0
        }
    },
    {
        "createdAt": "2024-08-15 09:08:37.133395 +0300 +0300",
        "id": "73e6bc92-0ead-4f5c-816b-4bf92b02d134",
        "name": "КЕА_АЙТЕМ",
        "price": 0,
        "sellerId": 0,
        "statistics": {
            "contacts": 0,
            "likes": 0,
            "viewCount": 0
        }
    }
]
```
---
Response_2:  
200 OK  
Body_3:  
```
[
    {
        "createdAt": "2024-09-11 19:30:21.090726 +0300 +0300",
        "id": "76345aff-b5e0-480e-a18b-267d10f05937",
        "name": "Телефон",
        "price": 1000,
        "sellerId": -2,
        "statistics": {
            "contacts": 0,
            "likes": 0,
            "viewCount": 0
        }
    },
    {
        "createdAt": "2024-09-11 19:36:36.470224 +0300 +0300",
        "id": "e76c8fdc-35b0-4590-951d-3cad9dace12f",
        "name": "Телефон",
        "price": 1000,
        "sellerId": -2,
        "statistics": {
            "contacts": 0,
            "likes": 0,
            "viewCount": 0
        }
    }
]
```
---
Response_3:  
404 Not Found  
Body_4:  
```
{
    "message": "route /api/1/!@ not found",
    "code": 400
}
```
---
## Комментарий  
**Response_1:** Сервис принимает значение sellerId, при данном значении(через метод Post невозможно создать объявление с sellerId - "0") возвращаются объявления, хотя такое значение не  должно считаться корректным идентификатором продавца. 
**Приоритет:** High  

**Response_2:** Сервис принимает значение sellerId, при данном значении(через метод Post невозможно создать объявление с sellerId - "-2") возвращаются объявления, хотя такое значение не  должно считаться корректным идентификатором продавца.
**Приоритет:** High

**Response_3:** При передаче некорректного значения sellerId из специальных символов сервис возвращает ошибку, однако тело ответа не соответствует ожидаемой структуре. Также различаются статус кода ответа в Postma и в ответе написан код 400.
**Приоритет:** High  
